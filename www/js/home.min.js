var homeView=function(){"use strict";var t={},o=null,e="homeView",n={},i=null,a=!0;return t.accountButtonClicked=new Event(e),t.selectionClicked=new Event(e),t.logoutButtonClicked=new Event(e),SwipeCarousel&&(n.orbs=new SwipeCarousel("#home .orbs",{onCarouselChange:function(t){if(!i)return!1;"right"===t?i.prev():i.next();var o=$("#home .orb.active").attr("data-id");$(".orb-text-item, .orb-desc-item").removeClass("active"),$('.orb-text-item[data-id="'+o+'"], .orb-desc-item[data-id="'+o+'"]').addClass("active")}})),t.start=function(){$("#home").on("click",".mp3-header .icon-right.account-icon",function(){t.accountButtonClicked.notify()}),$("#home").on("click",".mp3-header .icon-right.logoutbutton",function(){t.logoutButtonClicked.notify()}),$("#home").on("click",".orb:not(.orb-center)",function(){var o=$(this).attr("data-id");t.selectionClicked.notify({id:o})}),o=new PageTransitions({el:"#home",transition:"left"}),i=new orbRotation($("#home > .content > .section-selection > .orbs"),{mm:$("#home .orb.mm"),ls:$("#home .orb.ls"),qz:$("#home .orb.qz"),mw:$("#home .orb.mw")},$("#home .orb.orb-center"))},t.showLogOutButton=function(){$("#home .mp3-header .icon-right").removeClass("account-icon").addClass("logoutbutton")},t.showLoginButton=function(){$("#home .mp3-header .icon-right").removeClass("logoutbutton").addClass("account-icon")},t.show=function(t,e){a=!0,$("#home, .trans-overlay").addClass("active"),e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.in(e,null,function(){$(".trans-overlay").removeClass("active"),"function"==typeof t&&t()})},t.hide=function(t,e){a=!1,e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.out(e,null,function(){$("#home").removeClass("active"),"function"==typeof t&&t()})},t.showLoader=function(){$(".disable-overlay").addClass("show")},t.hideLoader=function(){$(".disable-overlay").removeClass("show")},t}(),homeController=function(){"use strict";function t(t){t.preventDefault(),navigator.app.exitApp()}function o(){document.addEventListener("backbutton",t,!1)}function e(){document.removeEventListener("backbutton",t,!1)}var n={},i=!0,a=homeView;return globalEvent.attach("app:ready",function(){n.start()}),globalEvent.attach("home:show",function(t){return i?!0:void n.show(!1,t)}),globalEvent.attach("home:hide",function(t){n.hide(!1,t)}),globalEvent.attach("user:loggedin",function(){a.showLogOutButton()}),globalEvent.attach("user:loggedout",function(){a.showLoginButton()}),a.accountButtonClicked.attach(function(){n.hide(!1,{dir:"right"}),globalEvent.notify("login:show")}),a.logoutButtonClicked.attach(function(){globalEvent.notify("user:logout")}),a.selectionClicked.attach(function(t,o){if("object"!=typeof o||"string"!=typeof o.id)return debug&&console.log("id not defined, dont do anything"),!1;switch(o.id){case"matchmaker":globalEvent.notify("matchmakercat1:show"),n.hide(!1,{dir:"right"});break;case"quizzes":globalEvent.notify("quizzes:show"),n.hide(!1,{dir:"right"});break;case"lessons":globalEvent.notify("lessons:show"),n.hide(!1,{dir:"right"});break;case"mywines":globalEvent.notify("permission:canShowMyWines",{callback:function(t){return t.value?(globalEvent.notify("mywines:show"),n.hide(!1,{dir:"right"}),!0):(debug&&console.log("cannot show!"),globalEvent.notify("messages:restrictedNoInternet"),!1)}});break;default:return debug&&console.log("There is no id matching a selection view."),!1}}),n.start=function(){a.start()},n.hide=function(t,o){i=!1,e(),a.hide(function(){"function"==typeof t&&t()},o)},n.show=function(t,e){i=!0,a.showLoader(),a.show(function(){o(),a.hideLoader(),"function"==typeof t&&t()},e)},n}();