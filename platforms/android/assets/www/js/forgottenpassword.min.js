var forgottenPassView=function(){"use strict";var t={},o=null,e="forgottenPassView",n=null,a=!1;return t.backButtonClicked=new Event(e),t.submitButtonClicked=new Event(e),t.start=function(){$("#forgotten-password").on("click",".mp3-header .icon-left",function(){t.backButtonClicked.notify()}),$("#forgotten-password").on("click",".submit",function(){$("#forgotten-password input").removeClass("invalid"),t.submitButtonClicked.notify({email:$("#forgotten-password .input-email")})}),o=new PageTransitions({el:"#forgotten-password",transition:"left"}),n=_.template($(".ajax-loader-template").html())},t.show=function(t,e){a=!0,$("#forgotten-password, .trans-overlay").addClass("active"),e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.in(e,null,function(){$(".trans-overlay").removeClass("active"),"function"==typeof t&&t()})},t.hide=function(t,e){a=!1,e=!$.isEmptyObject(e)&&e&&"undefined"!=typeof e.dir?e.dir:"left",o.out(e,null,function(){$("#forgotten-password").removeClass("active"),"function"==typeof t&&t()})},t.showLoader=function(){$(".disable-overlay").addClass("show"),t.hideLoader(!0),$("#forgotten-password").append(n())},t.hideLoader=function(t){t||$(".disable-overlay").removeClass("show"),$("#forgotten-password .ajax-loader").remove()},t.clearDetails=function(){$("#forgotten-password input").val("")},t}(),forgottenPassController=function(){"use strict";function t(t){if(r=!0,""===t.email.val()&&(t.email.addClass("invalid"),r=!1),!r)return debug&&console.log("invalid cannot Submit"),!1;s.showLoader();var o={email:t.email.val()};handlerController.forgotpassword(o,function(t){return debug&&console.log("ajax success - forgotten password"),debug&&console.log(t),Popup.createConfirmPopup("Successful","Please check your email / spam folder for an email regarding the change of your password",null,"Okay"),a.hide(!1,{dir:"left"}),globalEvent.notify("login:show",{dir:"right"}),s.hideLoader(),!0},function(t){return debug&&console.error("Failed to get forgotpass: "+t),s.hideLoader(),Popup.createConfirmPopup("Unsuccessful","Please check your internet connection.",null,"Okay"),!1})}function o(t){t.preventDefault(),a.hide(!1,{dir:"left"}),globalEvent.notify("login:show",{dir:"right"})}function e(){document.addEventListener("backbutton",o,!1)}function n(){document.removeEventListener("backbutton",o,!1)}var a={},i=!1,r=!0,s=forgottenPassView;return globalEvent.attach("app:ready",function(){a.start()}),globalEvent.attach("forgottenpassword:show",function(t){a.show(!1,t)}),globalEvent.attach("forgottenpassword:hide",function(t){a.hide(!1,t)}),s.backButtonClicked.attach(function(){a.hide(!1,{dir:"left"}),globalEvent.notify("login:show",{dir:"right"})}),s.submitButtonClicked.attach(function(o,e){t(e)}),a.start=function(){s.start()},a.hide=function(t,o){i=!1,n(),s.hide(function(){s.clearDetails(),"function"==typeof t&&t()},o)},a.show=function(t,o){i=!0,s.show(function(){e(),"function"==typeof t&&t()},o)},a}();