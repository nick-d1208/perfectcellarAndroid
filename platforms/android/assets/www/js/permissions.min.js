var permissionModel=function(){"use strict";var e={};return e}(),permissionController=function(){"use strict";function e(){var e=c.getUser();return e?{value:!0}:{value:!1,message:"nonmember"}}function n(){var e=u.getNetworkStatus();return e||i?{value:!0}:{value:!1}}function t(){var e=c.getUser();return e?{value:!0,complimentary:!1,amount:12,allowed:e.chargedAt,current:(new Date).getMonth()}:{value:!0,complimentary:!0,amount:12,allowed:0}}function a(){var e=c.getUser();return e?{value:!0,complimentary:!1,amount:12,allowed:e.chargedAt,current:(new Date).getMonth()}:{value:!0,complimentary:!0,amount:12,allowed:0}}function o(){var e=c.getUser();return e?{value:!0,complimentary:!1,amount:2,allowed:e.chargedAt,current:(new Date).getMonth()}:{value:!0,complimentary:!0,amount:0,allowed:0,current:(new Date).getMonth()}}var l={},c=userModel,i=!1,u=networkingModel;return globalEvent.attach("ini:recieved",function(){i=!0}),globalEvent.attach("ini:notrecieved",function(){i=!1}),globalEvent.attach("permission:populatequizzes",function(e){"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(t())}),globalEvent.attach("permission:populatelessons",function(e){"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(a())}),globalEvent.attach("permission:populatemywines",function(e){"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(o())}),globalEvent.attach("permission:canShowMyWines",function(e){"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(n())}),globalEvent.attach("permission:canlogin",function(e){"undefined"!=typeof e&&"function"==typeof e.callback&&e.callback(_canLogin())}),globalEvent.attach("permission:canShowPreviousItems",function(n){"undefined"!=typeof n&&"function"==typeof n.callback&&n.callback(e())}),l}();